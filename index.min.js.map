{"version":3,"file":"index.min.js","sources":["src/env.js","src/functions/cached.js","src/functions/is.js","src/functions/make-map.js","src/functions/noop.js","src/functions/next-tick.js","src/functions/without.js","src/preact/html.js","src/preact/style-map.js","src/preact/token-list.js","src/strings/camelize.js","src/strings/capitalize.js","src/strings/hyphenate.js","src/functions/once.js","src/preact/slots.js"],"sourcesContent":["// Browser environment sniffing\nexport const inBrowser = typeof window !== 'undefined';\nexport const inWeex = typeof WXEnvironment !== 'undefined' && !!WXEnvironment.platform;\nexport const weexPlatform = inWeex && WXEnvironment.platform.toLowerCase();\nexport const UA = inBrowser && window.navigator.userAgent.toLowerCase();\nexport const isIE = UA && /msie|trident/.test(UA);\nexport const isIE9 = UA && UA.indexOf('msie 9.0') > 0;\nexport const isEdge = UA && UA.indexOf('edge/') > 0;\nexport const isAndroid = (UA && UA.indexOf('android') > 0) || (weexPlatform === 'android');\nexport const isIOS = (UA && /iphone|ipad|ipod|ios/.test(UA)) || (weexPlatform === 'ios');\nexport const isChrome = UA && /chrome\\/\\d+/.test(UA) && !isEdge;\n","/**\n * Create a cached version of a pure function.\n *\n * @param {function(string=): *} fn\n * @return {function(string=): *}\n */\nexport function cached(fn) {\n  const cache = Object.create(null);\n  return function hitHandle(str) {\n    const hit = cache[str];\n    return hit || (cache[str] = fn(str));\n  }\n}\n","/**\n * Get the raw type string of a value e.g. [object Object]\n */\nconst _toString = Object.prototype.toString;\n\nexport function isUndefined(v) {\n  return v === undefined || v === null;\n}\n\nexport function isDefined(v) {\n  return v !== undefined && v !== null;\n}\n\nexport function isTrue(v) {\n  return v === true;\n}\n\nexport function isFalse(v) {\n  return v === false;\n}\n\n/**\n * Check if value is primitive\n *\n * @param {*} value\n * @return {boolean}\n */\nexport function isPrimitive(value) {\n  return (\n    typeof value === 'string' ||\n    typeof value === 'number' ||\n    typeof value === 'symbol' ||\n    typeof value === 'boolean'\n  );\n}\n\n/**\n * Quick object check - this is primarily used to tell\n * Objects from primitive values when we know the value\n * is a JSON-compliant type.\n *\n * @param obj\n * @return {boolean}\n */\nexport function isObject(obj) {\n  return obj !== null && typeof obj === 'object';\n}\n\n/**\n * @param value\n * @return {string}\n */\nexport function toRawType(value) {\n  return _toString.call(value).slice(8, -1);\n}\n\n/**\n * Strict object type check. Only returns true\n * for plain JavaScript objects.\n *\n * @param obj\n * @return {boolean}\n */\nexport function isPlainObject(obj) {\n  return _toString.call(obj) === '[object Object]';\n}\n\n/**\n * @param v\n * @return {boolean}\n */\nexport function isRegExp(v) {\n  return _toString.call(v) === '[object RegExp]';\n}\n\n/**\n * Check if val is a valid array index.\n *\n * @param val\n * @return {boolean}\n */\nexport function isValidArrayIndex(val) {\n  const n = parseFloat(String(val));\n  return n >= 0 && Math.floor(n) === n && isFinite(val);\n}\n\n/**\n * Convert a value to a string that is actually rendered.\n *\n * @param val\n * @return {string}\n */\nexport function toString(val) {\n  return val == null\n    ? ''\n    : typeof val === 'object'\n      ? JSON.stringify(val, null, 2)\n      : String(val);\n}\n\n/**\n * Convert a input value to a number for persistence.\n * If the conversion fails, return original string.\n *\n * @param {string} val\n * @return {number|string}\n */\nexport function toNumber(val) {\n  const n = parseFloat(val);\n  return isNaN(n) ? val : n;\n}\n\nexport function isNative(Ctor) {\n  return typeof Ctor === 'function' && /native code/.test(Ctor.toString());\n}\n\nexport function isPreactElement(node) {\n  return node && (node.__preactattr_ != null || (typeof Symbol !== 'undefined' && node[Symbol.for('preactattr')] != null));\n}\n","/**\n * Make a map.\n *\n * @param {string} str\n * @param {string|RegExp} separator\n * @return {Object}\n */\nexport function makeMap(str, separator = ',') {\n  const map = Object.create(null);\n  const list = str.split(separator);\n\n  for (let i = 0; i < list.length; i++) {\n    map[list[i]] = true;\n  }\n\n  return map;\n}\n\n/**\n * Make a map and return a function for checking if a key\n * is in that map.\n *\n * @param {string} str\n * @param {boolean} expectsLowerCase\n * @param {string|RegExp} separator\n * @return {function(*): boolean | undefined}\n */\nexport function makeMapAccessor(str, expectsLowerCase, separator) {\n  const map = makeMap(str, separator);\n  return expectsLowerCase\n    ? val => map[val.toLowerCase()]\n    : val => map[val];\n}\n","export function noop() {\n  // nothing\n}\n","import {inWeex, inBrowser, isIOS} from '../env';\nimport {noop} from './noop';\nimport {isNative} from './is';\n\nconst callbacks = [];\nlet pending = false;\n\nfunction handleError(err) {\n  if ((inBrowser || inWeex) && typeof console !=='undefined') {\n    err.message = `Error in nextTick: ${err.message}`;\n    console.error(err);\n  } else {\n    throw err;\n  }\n}\n\nfunction flushCallbacks() {\n  pending = false;\n  const copies = callbacks.slice(0);\n  callbacks.length = 0;\n  for (let i = 0; i < copies.length; i++) {\n    const task = copies[i];\n    if (useMacroTask && task._withTask) {\n      task._withTask();\n    } else {\n      task();\n    }\n  }\n}\n\n// Here we have async deferring wrappers using both microtasks and (macro) tasks.\n// In < 2.4 we used microtasks everywhere, but there are some scenarios where\n// microtasks have too high a priority and fire in between supposedly\n// sequential events (e.g. #4521, #6690) or even between bubbling of the same\n// event (#6566). However, using (macro) tasks everywhere also has subtle problems\n// when state is changed right before repaint (e.g. #6813, out-in transitions).\n// Here we use microtask by default, but expose a way to force (macro) task when\n// needed (e.g. in event handlers attached by v-on).\nlet microTimerFunc;\nlet macroTimerFunc;\nlet useMacroTask = false;\n\n// Determine (macro) task defer implementation.\n// Technically setImmediate should be the ideal choice, but it's only available\n// in IE. The only polyfill that consistently queues the callback after all DOM\n// events triggered in the same loop is by using MessageChannel.\n/* istanbul ignore if */\nif (typeof setImmediate !== 'undefined' && isNative(setImmediate)) {\n  macroTimerFunc = function () {\n    setImmediate(flushCallbacks);\n  };\n} else if (typeof MessageChannel !== 'undefined'\n  && (isNative(MessageChannel) ||\n    // PhantomJS\n    MessageChannel.toString() === '[object MessageChannelConstructor]'\n  )\n) {\n  const channel = new MessageChannel();\n  const port = channel.port2;\n  channel.port1.onmessage = flushCallbacks;\n  macroTimerFunc = function() {\n    port.postMessage(1);\n  };\n} else {\n  /* istanbul ignore next */\n  macroTimerFunc = function() {\n    setTimeout(flushCallbacks, 0);\n  };\n}\n\n// Determine microtask defer implementation.\n/* istanbul ignore next, $flow-disable-line */\nif (typeof Promise !== 'undefined' && isNative(Promise)) {\n  const p = Promise.resolve();\n  microTimerFunc = function() {\n    p.then(flushCallbacks);\n    // in problematic UIWebViews, Promise.then doesn't completely break, but\n    // it can get stuck in a weird state where callbacks are pushed into the\n    // microtask queue but the queue isn't being flushed, until the browser\n    // needs to do some other work, e.g. handle a timer. Therefore we can\n    // \"force\" the microtask queue to be flushed by adding an empty timer.\n    if (isIOS) setTimeout(noop);\n  };\n} else {\n  // fallback to macro\n  microTimerFunc = macroTimerFunc;\n}\n\n/**\n * Wrap a function so that if any code inside triggers state change,\n * the changes are queued using a (macro) task instead of a microtask.\n *\n * @param {Function} fn\n * @return {Function}\n */\nexport function withMacroTask(fn) {\n  return fn._withTask || (fn._withTask = function () {\n    useMacroTask = true;\n    const res = fn.apply(null, arguments);\n    useMacroTask = false;\n    return res;\n  });\n}\n\n/**\n * @param {Function} [cb]\n * @param {Object} [ctx]\n */\nexport function nextTick(cb, ctx){\n  let _resolve;\n\n  callbacks.push(function() {\n    if (cb) {\n      try {\n        cb.call(ctx);\n      } catch (e) {\n        if (ctx && typeof ctx.handleError === 'function') {\n          ctx.handleError(e);\n        } else {\n          handleError(e);\n        }\n      }\n    } else if (_resolve) {\n      _resolve(ctx);\n    }\n  });\n\n  if (!pending) {\n    pending = true;\n\n    if (useMacroTask) {\n      macroTimerFunc();\n    } else {\n      microTimerFunc();\n    }\n  }\n\n  if (!cb && typeof Promise !== 'undefined') {\n    return new Promise(resolve => {\n      _resolve = resolve;\n    });\n  }\n}\n","const hasOwn = Object.prototype.hasOwnProperty;\n\nexport function without(obj, exclude) {\n  const target = {};\n\n  for (const k in obj) {\n    if (hasOwn.call(obj, k) && exclude.indexOf(k) === -1) {\n      target[k] = obj[k];\n    }\n  }\n\n  return target;\n}\n","// 对”\\””、”&”、”‘“、”<”、”>”、空格(0x20)、0x00到0x20、0x7F-0xFF\n// 以及0x0100-0x2700的字符进行转义，基本上就覆盖的比较全面了。\n// https://www.cnblogs.com/daysme/p/7100553.html\nconst HTML_ENCODE_RE = /\"|&|'|<|>|[\\x00-\\x20]|[\\x7F-\\xFF]|[\\u0100-\\u2700]/g;\n\nexport function encodeHTML(str) {\n  return String(str).replace(HTML_ENCODE_RE, function ($0) {\n    let c = $0.charCodeAt(0);\n    let r = ['&#'];\n    c = (c === 0x20) ? 0xA0 : c;\n    r.push(c);\n    r.push(';');\n    return r.join('');\n  });\n}\n","const partSplitRE = /\\s*;\\s*/;\nconst nvSplitRE = /\\s*:\\s*/;\n\n// 获取具有浏览器前缀的CSS属性\nconst prefixedCssProperties = function (map) {\n  const styles = window.getComputedStyle(document.documentElement, '');\n  [].slice.call(styles).filter(function (x) {\n    const matches = x.match(/-(webkit|moz|ms|o)-/);\n    if (matches) map[x.slice(matches[0].length)] = x;\n  });\n  return map;\n}({});\n\nfunction property(name) {\n  return prefixedCssProperties[name] || name;\n}\n\nexport class StyleMap {\n  static from(data) {\n    const style = new StyleMap();\n    style.dict = this.explode(data);\n    return style;\n  }\n\n  static explode(data) {\n    if (data instanceof StyleMap) {\n      return Object.assign({}, data.dict);\n    }\n\n    const map = Object.create(null);\n\n    // prop:value;prop2:value2;...\n    if (typeof data === 'string') {\n      data.split(partSplitRE).forEach(function (part) {\n        if (!part.trim()) return;\n        const [name, value] = part.split(nvSplitRE);\n        name && value !== undefined && (map[name] = value);\n      });\n    }\n    // ['name:value', [name, value]...]\n    else if (Array.isArray(data)) {\n      data.forEach(function (part) {\n        if (typeof part === 'string') part = part.split(nvSplitRE);\n        if (!Array.isArray(part)) return;\n        const [name, value] = part;\n        name && value !== undefined && (map[name] = value);\n      });\n    }\n    // {name: value, ...}\n    else if (data && typeof data === 'object') {\n      Object.keys(data).forEach(function (key) {\n        data[key] !== undefined && (map[key] = data[key]);\n      });\n    }\n\n    return map;\n  }\n\n  get size() {\n    return Object.keys(this.dict).length;\n  }\n\n  constructor() {\n    this.dict = Object.create(null);\n  }\n\n  append(name, value) {\n    this.set(name, (this.has(name) ? this.get(name) + ',' : '') + value);\n    return this;\n  }\n\n  get(name) {\n    return this.dict[property(name)];\n  }\n\n  has(name) {\n    return property(name) in this.dict;\n  }\n\n  remove(name) {\n    return delete this.dict[property(name)];\n  }\n\n  set(name, value) {\n    this.dict[property(name)] = value;\n    return this;\n  }\n\n  toString() {\n    const styles = [];\n    for (const key in this.dict) styles.push(key + ':' + this.dict[key]);\n    return styles.join(';') + (this.size ? ';' : '');\n  }\n}\n\nStyleMap.property = property;\n","const {indexOf, splice, join} = [];\n\n/**\n * 模拟 DOMTokenList 接口，主要用于组件的 class 管理，\n * 类似于 Vue 的绑定 class 方式。\n *\n * 本来打算直接使用 Set，但是谷歌浏览器执行 Set.call 提示错误：\n * \"Uncaught TypeError: Constructor Set requires 'new'\"，\n * 所以无法实现 class Sub extends Set，才有了该类。\n *\n * @link https://developer.mozilla.org/zh-CN/docs/Web/API/DOMTokenList\n */\nexport class TokenList {\n\n  /**\n   * @param {*} data\n   * @return {TokenList}\n   */\n  static from(data) {\n    const list = new TokenList();\n    const parsed = this.explode(data);\n    parsed.forEach(t => list.add(t));\n    return list;\n  }\n\n  /**\n   * @param {*} value\n   * @return {string[]}\n   */\n  static explode(value) {\n    let parsed = [];\n\n    if (value instanceof TokenList) {\n      return [...value];\n    }\n\n    switch (typeof value) {\n      // 'class1'\n      // 'class1 class2'\n      case 'string':\n        parsed = value.trim().split(/\\s+/);\n        break;\n\n      // arg = () => 'class';\n      // arg = () => 'class1 class2';\n      // arg = () => ['class1', 'class2'];\n      // arg = () => {'class1': true, 'class2': check};\n      // arg = () => [{'class1': true}, 'selected', [...]];\n      case 'function':\n        try {\n          const values = value();\n          if (!values) break;\n          parsed = this.explode(values);\n        } catch (e) {\n        }\n        break;\n\n      // array, object, null\n      case 'object':\n        if (value == null) {\n          break;\n        }\n\n        // ['class1', ...]\n        // ['class1', {...}]\n        if (Array.isArray(value)) {\n          parsed = value\n            .map(this.explode, this)\n            .reduce((x, a) => x.concat(a), []);\n          break;\n\n        }\n\n        // {className: check, ...}\n        parsed = Object.keys(value)\n          .map(key => value[key] && key);\n\n    }\n\n    if (parsed.length) {\n      return parsed\n        .map(c => c.trim())\n        .filter(Boolean)\n        .filter(function check(className) {\n          if (!/^[a-zA-Z$_-][\\w$_-]*$/.test(className)) {\n            console.warn(`Bad className \"${className}\"`);\n            return false;\n          }\n          return true;\n        });\n    }\n\n    return parsed;\n  }\n\n  constructor() {\n    this.length = 0;\n  }\n\n  /**\n   * @param {any[]} tokens\n   * @return {TokenList}\n   */\n  add(...tokens) {\n    TokenList.explode(tokens).forEach(token => {\n      if (token == null) return;\n      if (this.contains(token)) return;\n      this[this.length++] = token;\n    });\n    return this;\n  }\n\n  /**\n   * @param {*} token\n   * @return {boolean}\n   */\n  contains(token) {\n    return indexOf.call(this, token) > -1;\n  }\n\n  item(index) {\n    if (index < 0) index += this.length;\n    if (index >= this.length) return null;\n    return index < 0 ? null : this[index];\n  }\n\n  /**\n   * @param {*[]} tokens\n   */\n  remove(...tokens) {\n    tokens.forEach(token => {\n      const index = indexOf.call(this, token);\n      if (index > -1) splice.call(this, index, 1);\n    });\n  }\n\n  /**\n   * 从 TokenList 字符串中移除符号字串（token），并返回 false。\n   * 如果传入的符号字串（token）不存在，则将其添加进去，并返回 true\n   *\n   * @param {string} token\n   * @return {boolean}\n   */\n  toggle(token) {\n    const has = this.contains(token);\n    this[has ? 'remove' : 'add'](token);\n    return has;\n  }\n\n  /**\n   * @return {string}\n   */\n  toString() {\n    return join.call(this, ' ');\n  }\n}\n","import {cached} from '../functions/cached';\n\nconst camelizeRE = /-(\\w)/g;\n\n/**\n * Camelize a hyphen-delimited string.\n * @type {function(string=): string}\n */\nexport const camelize = cached(function (str) {\n  return str.replace(camelizeRE, (_, c) => c ? c.toUpperCase() : '');\n});\n","import {cached} from '../functions/cached';\n\n/**\n * Capitalize a string.\n *\n * @type {function(string=): string}\n */\nexport const capitalize = cached(function (str) {\n  return str.charAt(0).toUpperCase() + str.slice(1);\n});\n","import {cached} from '../functions/cached';\n\nconst hyphenateRE = /\\B([A-Z])/g;\n\n/**\n * Hyphenate a camelCase string.\n *\n * @type {function(string=): string}\n */\nexport const hyphenate = cached(function (str) {\n  return str.replace(hyphenateRE, '-$1').toLowerCase();\n});\n","/**\n * Ensure a function is called only once.\n *\n * @param {Function} fn\n * @return {Function}\n */\nexport function once(fn) {\n  let called = false;\n  let result;\n\n  return function () {\n    if (!called) {\n      called = true;\n      result = fn.apply(this, arguments);\n    }\n\n    return result;\n  };\n}\n","export function parseSlots(children) {\n  const slots = {};\n\n  if (Array.isArray(children)) {\n    children.forEach(function (child) {\n      if (child == null) return;\n      const attrs = child.attributes;\n      const name = attrs && attrs.slot || 'default';\n      (slots[name] || (slots[name] = [])).push(child);\n    });\n  }\n\n  return slots;\n}\n"],"names":["inBrowser","window","inWeex","WXEnvironment","platform","weexPlatform","toLowerCase","UA","navigator","userAgent","isIE","test","isIE9","indexOf","isEdge","isAndroid","isIOS","isChrome","cached","fn","const","cache","Object","create","str","_toString","prototype","toString","isNative","Ctor","makeMap","separator","map","list","split","i","length","noop","microTimerFunc","macroTimerFunc","callbacks","pending","flushCallbacks","copies","slice","task","useMacroTask","_withTask","let","setImmediate","MessageChannel","setTimeout","channel","port","port2","port1","onmessage","postMessage","Promise","p","resolve","then","hasOwn","hasOwnProperty","HTML_ENCODE_RE","styles","partSplitRE","nvSplitRE","prefixedCssProperties","getComputedStyle","document","documentElement","call","filter","x","matches","match","property","name","StyleMap","this","dict","from","data","style","explode","assign","forEach","part","trim","undefined","value","Array","isArray","keys","key","prototypeAccessors","size","append","set","has","get","remove","push","join","TokenList","t","add","parsed","values","e","reduce","a","concat","c","Boolean","className","console","warn","tokens","token","contains","this$1","item","index","splice","toggle","camelizeRE","camelize","replace","_","toUpperCase","capitalize","charAt","hyphenateRE","hyphenate","v","obj","val","n","parseFloat","String","Math","floor","isFinite","JSON","stringify","isNaN","node","__preactattr_","Symbol","for","expectsLowerCase","res","apply","arguments","cb","ctx","_resolve","handleError","err","message","error","result","called","exclude","target","k","$0","charCodeAt","r","children","slots","child","attrs","attributes","slot"],"mappings":"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"}